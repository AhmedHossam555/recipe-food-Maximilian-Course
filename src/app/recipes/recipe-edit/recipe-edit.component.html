<form [formGroup]="recipeForm" (ngSubmit)="onSubmit()" >
    <div class="row">
        <div class="col-xs-12">
            <div class="form-group mb-3">
                <button class="btn btn-success" [disabled]="!recipeForm.valid" style="margin-right: 6px;" type="submit">Save</button>
                <button class="btn btn-danger" type="button" (click)="onCancel()">Cancel</button>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <div class="form-group mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" id="name" formControlName="name"  class="form-control">
            </div>
            <div class="form-group mb-3">
                <label for="imagePath" class="form-label">Image Url</label>
                <input type="text" id="imagePath" formControlName="imagePath" #imgPath   class="form-control">
            </div>
            @if (imgPath.value !== "" ) {
                <div class="row mb-3">
                    <div class="col-12">
                        <img [src]="imgPath.value" class="w-100" alt="Image">
                    </div>
                </div>
            }
        
            <div class="form-group mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea id="description" formControlName="description"  class="form-control" row="3"></textarea>
            </div>
        </div>
    </div>
    <div class="row" formArrayName="ingredients">
        <div class="col-12">
            <div class="row mb-2" *ngFor="let ingred of getIngredientsControls(); let i = index" [formGroupName]="i">
                <div class="col-8">
                    <input type="text" class="form-control" formControlName="name" >
                </div>
                <div class="col-2">
                    <input type="number" class="form-control" formControlName="amount" >
                </div>
                <div class="col-2">
                    <button class="btn btn-danger" type="button" (click)="onDeleteIngredients(i)">
                        X
                    </button>
                </div>
            
   </div>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-12">
            <button class="btn btn-success" type="button" (click)="onAddIngredients()">Add Ingredients</button>
        </div>
    </div>
   
</form>